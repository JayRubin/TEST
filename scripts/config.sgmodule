#!name=Custom config
#!desc=Script for Surge iOS [ update time: 2022-12-15 20:30:00 ]
#!system=ios

[Rule]
# Default
AND,((PROTOCOL,UDP),(DEST-PORT,443)),REJECT-NO-DROP
# Download
PROCESS-NAME,aria2c,DIRECT
PROCESS-NAME,fdm,DIRECT
PROCESS-NAME,Folx,DIRECT
PROCESS-NAME,NetTransport,DIRECT
PROCESS-NAME,Thunder,DIRECT
PROCESS-NAME,Transmission,DIRECT
PROCESS-NAME,uTorrent,DIRECT
PROCESS-NAME,UUBooster,DIRECT
PROCESS-NAME,WebTorrent,DIRECT
PROCESS-NAME,WebTorrent Helper,DIRECT
# Unreachable
DOMAIN-SUFFIX,google.com,failback
DOMAIN-SUFFIX,gitlab.com,Proxy
DOMAIN-SUFFIX,github.com,Proxy
DOMAIN-SUFFIX,githubusercontent.com,Proxy
DOMAIN-SUFFIX,cdn.jsdelivr.net,Proxy
DOMAIN-SUFFIX,pypi.org,Proxy
DOMAIN-SUFFIX,adguard.com,Proxy
DOMAIN-SUFFIX,adtidy.org,Proxy

[Host]
# > Global
google.com = server:8.8.8.8
*google.com = server:8.8.8.8
adguard.com = server:8.8.8.8
*adguard.com = server:8.8.8.8
gitlab.com = server:8.8.8.8
*gitlab.com = server:8.8.8.8
github.com = server:8.8.8.8
*github.com = server:8.8.8.8
githubusercontent.com = server:8.8.8.8
*.githubusercontent.com = server:8.8.8.8
# > China
taobao.com = server:223.5.5.5
*.taobao.com = server:223.5.5.5
tmall.com = server:223.5.5.5
*.tmall.com = server:223.5.5.5
jd.com = server:119.29.29.29
*.jd.com = server:119.29.29.29
*.qq.com = server:119.29.29.29
*.tencent.com = server:119.29.29.29
*.alicdn.com = server:223.5.5.5
aliyun.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
weixin.com = server:119.29.29.29
*.weixin.com = server:119.29.29.29
bilibili.com = server:119.29.29.29
*.bilibili.com = server:119.29.29.29
*.hdslb.com = server:119.29.29.29
163.com = server:119.29.29.29
*.163.com = server:119.29.29.29
126.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
mi.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
xiaomi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
# > Apple
aaplimg.com = server:119.29.29.29
apple.com = server:119.29.29.29
apple.com.cn = server:119.29.29.29
apple-cloudkit.com = server:119.29.29.29
apple-livephotoskit.com = server:119.29.29.29
apple-mapkit.com = server:119.29.29.29
cdn-apple.com = server:119.29.29.29
icloud.com = server:119.29.29.29
icloud.com.cn = server:119.29.29.29
mzstatic.com = server:119.29.29.29
*.aaplimg.com = server:119.29.29.29
*.apple.com = server:119.29.29.29
*.apple-cloudkit.com = server:119.29.29.29
*.apple-livephotoskit.com = server:119.29.29.29
*.apple-mapkit.com = server:119.29.29.29
*.cdn-apple.com = server:119.29.29.29
*.icloud.com = server:119.29.29.29
*.icloud.com.cn = server:119.29.29.29
*.mzstatic.com = server:119.29.29.29
*apple.com.akadns.net = server:119.29.29.29
*.apple.com.edgekey.net = server:119.29.29.29
*.apple.com.edgekey.net.globalredir.akadns.net = server:119.29.29.29
*icloud.com.akadns.net = server:119.29.29.29

[MITM]
skip-server-cert-verify = true
tcp-connection = true
h2 = true
ca-passphrase = DDED305C
ca-p12 = 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
